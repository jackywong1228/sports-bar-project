// 判断时段是否被选中
function isSlotSelected(selectedVenueId, selectedSlots, venueId, hour) {
  if (!selectedVenueId || selectedVenueId !== venueId) return false
  if (!selectedSlots || selectedSlots.length === 0) return false

  for (var i = 0; i < selectedSlots.length; i++) {
    if (selectedSlots[i].hour === hour) {
      return true
    }
  }
  return false
}

// 补零函数
function padStart(num) {
  return num < 10 ? '0' + num : '' + num
}

// 获取时间范围
function getTimeRange(selectedSlots) {
  if (!selectedSlots || selectedSlots.length === 0) return ''

  var startHour = selectedSlots[0].hour
  var endHour = selectedSlots[selectedSlots.length - 1].hour + 1

  return padStart(startHour) + ':00 - ' + padStart(endHour) + ':00'
}

// 计算总价
function getTotalPrice(selectedVenuePrice, selectedSlots) {
  if (!selectedSlots || selectedSlots.length === 0) return '0.00'
  var total = selectedVenuePrice * selectedSlots.length
  return total.toFixed(2)
}

module.exports = {
  isSlotSelected: isSlotSelected,
  getTimeRange: getTimeRange,
  getTotalPrice: getTotalPrice
}
