<view class="container" wx:if="{{!loading}}">
  <!-- 图片轮播 -->
  <swiper class="venue-swiper" indicator-dots circular autoplay>
    <swiper-item wx:for="{{venue.photos || [venue.image]}}" wx:key="*this">
      <image
        class="venue-image"
        src="{{item || '/assets/images/venue-default.jpg'}}"
        mode="aspectFill"
        bindtap="previewImage"
        data-src="{{item}}"
      ></image>
    </swiper-item>
  </swiper>

  <!-- 基本信息 -->
  <view class="info-card">
    <view class="venue-header">
      <text class="venue-name">{{venue.name}}</text>
      <view class="venue-tags">
        <text class="tag" wx:if="{{venue.type_name}}">{{venue.type_name}}</text>
      </view>
    </view>
    <!-- 订阅会员免费预约，不显示价格 -->
    <view class="venue-desc" wx:if="{{venue.description}}">
      <text>{{venue.description}}</text>
    </view>
  </view>

  <!-- 场馆信息 -->
  <view class="detail-card">
    <view class="card-title">场馆信息</view>
    <view class="info-item" bindtap="navigateTo">
      <view class="info-label">地址</view>
      <view class="info-value">
        <text>{{venue.address || '暂无地址'}}</text>
        <text class="arrow">></text>
      </view>
    </view>
    <view class="info-item" bindtap="callPhone">
      <view class="info-label">电话</view>
      <view class="info-value">
        <text>{{venue.phone || '暂无'}}</text>
        <text class="arrow">></text>
      </view>
    </view>
    <view class="info-item">
      <view class="info-label">营业时间</view>
      <view class="info-value">
        <text>{{venue.open_time || '08:00'}} - {{venue.close_time || '22:00'}}</text>
      </view>
    </view>
    <view class="info-item">
      <view class="info-label">场地数量</view>
      <view class="info-value">
        <text>{{venue.count || 1}}个</text>
      </view>
    </view>
  </view>

  <!-- 设施服务 -->
  <view class="detail-card" wx:if="{{venue.facilities}}">
    <view class="card-title">设施服务</view>
    <view class="facility-list">
      <view class="facility-item" wx:for="{{venue.facilities}}" wx:key="*this">
        <text>{{item}}</text>
      </view>
    </view>
  </view>

  <!-- 预约须知 -->
  <view class="detail-card" wx:if="{{venue.notice}}">
    <view class="card-title">预约须知</view>
    <view class="notice-content">
      <text>{{venue.notice}}</text>
    </view>
  </view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar">
    <view class="bar-left">
      <view class="bar-item" bindtap="callPhone">
        <text class="iconfont icon-phone bar-icon"></text>
        <text>电话</text>
      </view>
      <view class="bar-item" bindtap="navigateTo">
        <text class="iconfont icon-location bar-icon"></text>
        <text>导航</text>
      </view>
    </view>
    <button class="btn-book" bindtap="goToBooking">立即预约</button>
  </view>

  <!-- 底部占位 -->
  <view class="bottom-placeholder"></view>
</view>

<!-- 加载中 -->
<view class="loading-container" wx:if="{{loading}}">
  <text class="loading-text">加载中...</text>
</view>
